<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Model analysis · UniversalDiffEq.jl</title><meta name="title" content="Model analysis · UniversalDiffEq.jl"/><meta property="og:title" content="Model analysis · UniversalDiffEq.jl"/><meta property="twitter:title" content="Model analysis · UniversalDiffEq.jl"/><meta name="description" content="Documentation for UniversalDiffEq.jl."/><meta property="og:description" content="Documentation for UniversalDiffEq.jl."/><meta property="twitter:description" content="Documentation for UniversalDiffEq.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">UniversalDiffEq.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">UniversalDiffEq.jl</a></li><li><a class="tocitem" href="../Models/">Model Constructors</a></li><li><a class="tocitem" href="../TrainingRoutines/">Training routines</a></li><li><a class="tocitem" href="../ModelTesting/">Model performance</a></li><li><a class="tocitem" href="../CrossValidation/">Cross validation</a></li><li><a class="tocitem" href="../NutsAndBolts/">UDE model construction</a></li><li><a class="tocitem" href="../MultipleTimeSeries/">Fitting a model to multiple time series</a></li><li class="is-active"><a class="tocitem" href>Model analysis</a></li><li><a class="tocitem" href="../examples/">Examples</a></li><li><a class="tocitem" href="../API/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Model analysis</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Model analysis</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Jack-H-Buckner/UniversalDiffEq.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Jack-H-Buckner/UniversalDiffEq.jl/blob/main/docs/src/modelanalysis.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Model-analysis"><a class="docs-heading-anchor" href="#Model-analysis">Model analysis</a><a id="Model-analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Model-analysis" title="Permalink"></a></h1><p>UniversalDiffEq.jl provides several functions to analyze the characteristics of the fitted models. The most basic of these is the <code>get_right_hand_side</code> function. This function takes a UDE model as an argument and returns the right-hand side of the fitted differential or difference equation. This function can then be treated like any dynamic model and analyzed for equilibrium points, stability, tipping points, and other dynamics of interest.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UniversalDiffEq.get_right_hand_side-Tuple{UDE}-modelanalysis" href="#UniversalDiffEq.get_right_hand_side-Tuple{UDE}-modelanalysis"><code>UniversalDiffEq.get_right_hand_side</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_right_hand_side(UDE::UDE)</code></pre><p>Returns the right-hand side of the differential equation (or difference equation) used to build the process model.</p><p>The function will take the state vector <code>u</code> and time <code>t</code> if the model does not include covariates. If covariates are included, then the arguments are the state vector <code>u</code> , covariates vector <code>x</code>, and time <code>t</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jack-H-Buckner/UniversalDiffEq.jl/blob/4832b16892430fb8583e70cc1b8cd66faff1c99f/src/ModelTesting.jl#L157-L163">source</a></section></article><p>In addition to <code>get_right_hand_side</code>, UniversalDiffEq.jl provides some predefined functions for analyzing the equilibrium points of the dynamic system. The simplest is <code>equilibrium_and_stability</code> which searches for the equilibrium points of the UDE model and analyzes their stability using a linear stability analysis.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UniversalDiffEq.equilibrium_and_stability-Tuple{Any, Any, Any}-modelanalysis" href="#UniversalDiffEq.equilibrium_and_stability-Tuple{Any, Any, Any}-modelanalysis"><code>UniversalDiffEq.equilibrium_and_stability</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">equilibrium_and_stability(UDE,lower,upper;t=0,Ntrials=100,tol=10^-3)</code></pre><p>Attempts to find all the equilibrium points for the UDE model between the upper and lower bounds, and then returns the real component of the dominant eigenvalue to analyze stability.</p><p>...</p><p><strong>kwargs</strong></p><ul><li>t = 0: The point in time where the UDE model is evaluated, only relevant for time aware UDEs.</li><li>Ntrials = 100: the number of initializations of the root finding algorithm.</li><li>tol = 10^-3: The threshold Euclidean distance between points beyond which a new equilibrium is sufficiently different to be retained.</li></ul><p>...</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jack-H-Buckner/UniversalDiffEq.jl/blob/4832b16892430fb8583e70cc1b8cd66faff1c99f/src/ODEAnalysis.jl#L235-L246">source</a></section></article><p>The package also has built-in functions to generate bifurcation diagrams for models that include covariates, by plotting the equilibrium points of the model as a function of the covariates. </p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UniversalDiffEq.bifurcation_data-Tuple{UDE}-modelanalysis" href="#UniversalDiffEq.bifurcation_data-Tuple{UDE}-modelanalysis"><code>UniversalDiffEq.bifurcation_data</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">bifurcation_data(model::UDE;N=25)</code></pre><p>Calcualtes the equilibrium values of the state variabels <span>$y_t$</span> as a function of the covariates <code>X_t</code> and return the value in a data frame. The funciton calcualtes the equilibrium values on a grid of <span>$N$</span> evenly spaced point for each covariate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jack-H-Buckner/UniversalDiffEq.jl/blob/4832b16892430fb8583e70cc1b8cd66faff1c99f/src/ODEAnalysis.jl#L431-L435">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UniversalDiffEq.plot_bifurcation_diagram-Tuple{UDE, Any}-modelanalysis" href="#UniversalDiffEq.plot_bifurcation_diagram-Tuple{UDE, Any}-modelanalysis"><code>UniversalDiffEq.plot_bifurcation_diagram</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">plot_bifurcation_diagram(model::UDE, xvariable; N = 25, color_variable= nothing, conditional_variable = nothing, size= (600, 400))</code></pre><p>This function returns a plot of the equilibrium values of the state varaibles <span>$y_t$</span> as a funciton of the covariates <span>$X_t$</span>. The arguemnt <code>xvariable</code> determines the covariate plotted on the x-axis. Additional variables can be visualized in sperate panel by specifying the <code>conditional_variable</code> key word argument or visualized by the color scheme using the <code>color_variable</code> argument.</p><p>The key word arguent <code>size</code> controls the dimensions of the final plot.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jack-H-Buckner/UniversalDiffEq.jl/blob/4832b16892430fb8583e70cc1b8cd66faff1c99f/src/ODEAnalysis.jl#L491-L497">source</a></section></article><p>The function <code>phase_plane</code> plots forecasted trajectories of state variables for a given number of timesteps <code>T</code>. All phase plane functions also work with the <code>MultiUDE</code> model type, and plot phase planes for each series in the data.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UniversalDiffEq.phase_plane-Tuple{UDE}-modelanalysis" href="#UniversalDiffEq.phase_plane-Tuple{UDE}-modelanalysis"><code>UniversalDiffEq.phase_plane</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">phase_plane(UDE::UDE; idx=[1,2], u1s=-5:0.25:5, u2s=-5:0.25:5, u3s = 0, T = 100)</code></pre><p>Plots the trajectory of state variables as forecasted by the model. Runs a forecast for each permutation of u1 and u2 out to T timesteps. Change the state variables that are plotted by changing <code>idx</code> such that it equals the indexes of the desired state variables as they appear in the data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jack-H-Buckner/UniversalDiffEq.jl/blob/4832b16892430fb8583e70cc1b8cd66faff1c99f/src/ModelTesting.jl#L797-L802">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UniversalDiffEq.phase_plane-Tuple{UDE, AbstractArray}-modelanalysis" href="#UniversalDiffEq.phase_plane-Tuple{UDE, AbstractArray}-modelanalysis"><code>UniversalDiffEq.phase_plane</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">phase_plane(UDE::UDE, u0s::AbstractArray; idx=[1,2],T = 100)</code></pre><p>Plots the trajectory of state variables as forecasted by the model. Runs a forecast for each provided initial condition out to <code>T</code> timesteps. Change the state variables that are plotted by changing <code>idx</code> such that it equals the indexes of the desired state variables as they appear in the data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jack-H-Buckner/UniversalDiffEq.jl/blob/4832b16892430fb8583e70cc1b8cd66faff1c99f/src/ModelTesting.jl#L828-L832">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UniversalDiffEq.phase_plane_3d-Tuple{UDE}-modelanalysis" href="#UniversalDiffEq.phase_plane_3d-Tuple{UDE}-modelanalysis"><code>UniversalDiffEq.phase_plane_3d</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">phase_plane_3d(UDE::UDE; idx=[1,2,3], u1s=-5:0.25:5, u2s=-5:0.25:5, u3s=-5:0.25:5, T = 100)</code></pre><p>The same as phase_plane(), but displays three dimensions/state variables instead of two.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jack-H-Buckner/UniversalDiffEq.jl/blob/4832b16892430fb8583e70cc1b8cd66faff1c99f/src/ModelTesting.jl#L853-L857">source</a></section></article><p>The library also has functions to evaluate model predictions. The <code>forecast</code> function will run a simulation of the model starting at the initial point <code>u0</code> and returning the value of the state variables at each point in the <code>times</code> vector. The results of these forecasts can be displayed using the <code>plot_forecast</code> function.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UniversalDiffEq.forecast-Tuple{UDE, AbstractVector, AbstractVector}-modelanalysis" href="#UniversalDiffEq.forecast-Tuple{UDE, AbstractVector, AbstractVector}-modelanalysis"><code>UniversalDiffEq.forecast</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">forecast(UDE::UDE, u0::AbstractVector{}, times::AbstractVector{})</code></pre><p>Predictions from the trained UDE model starting at <code>u0</code> and saving values at <code>times</code>. Assumes <code>u0</code> is the value at initial time <code>times[1]</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jack-H-Buckner/UniversalDiffEq.jl/blob/4832b16892430fb8583e70cc1b8cd66faff1c99f/src/ModelTesting.jl#L465-L469">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UniversalDiffEq.plot_forecast-Tuple{UDE, Int64}-modelanalysis" href="#UniversalDiffEq.plot_forecast-Tuple{UDE, Int64}-modelanalysis"><code>UniversalDiffEq.plot_forecast</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">plot_forecast(UDE::UDE, T::Int)</code></pre><p>Plots the model&#39;s forecast up to T time steps into the future from the last observation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jack-H-Buckner/UniversalDiffEq.jl/blob/4832b16892430fb8583e70cc1b8cd66faff1c99f/src/ModelTesting.jl#L623-L627">source</a></section></article><p>Finally, the parameters of the process model, the weights and biases of the neural network, and the estimated parameter values of the known dynamics can be displayed using the functions <code>get_parameters</code>, <code>get_NN_parameters</code>, and <code>print_parameter_estimates</code>, respectively.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UniversalDiffEq.get_parameters-Tuple{UDE}-modelanalysis" href="#UniversalDiffEq.get_parameters-Tuple{UDE}-modelanalysis"><code>UniversalDiffEq.get_parameters</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_parameters(UDE::UDE)</code></pre><p>Returns model parameters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jack-H-Buckner/UniversalDiffEq.jl/blob/4832b16892430fb8583e70cc1b8cd66faff1c99f/src/ModelTesting.jl#L136-L140">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UniversalDiffEq.get_NN_parameters-Tuple{UDE}-modelanalysis" href="#UniversalDiffEq.get_NN_parameters-Tuple{UDE}-modelanalysis"><code>UniversalDiffEq.get_NN_parameters</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_NN_parameters(UDE::UDE)</code></pre><p>Returns the values of the weights and biases of the neural network.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jack-H-Buckner/UniversalDiffEq.jl/blob/4832b16892430fb8583e70cc1b8cd66faff1c99f/src/ModelTesting.jl#L146-L150">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UniversalDiffEq.print_parameter_estimates-Tuple{UDE}-modelanalysis" href="#UniversalDiffEq.print_parameter_estimates-Tuple{UDE}-modelanalysis"><code>UniversalDiffEq.print_parameter_estimates</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">print_parameter_estimates(UDE::UDE)</code></pre><p>Prints the values of the known dynamics parameters estimated by the UDE model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jack-H-Buckner/UniversalDiffEq.jl/blob/4832b16892430fb8583e70cc1b8cd66faff1c99f/src/ModelTesting.jl#L116-L120">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../MultipleTimeSeries/">« Fitting a model to multiple time series</a><a class="docs-footer-nextpage" href="../examples/">Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.3.0 on <span class="colophon-date" title="Tuesday 22 April 2025 21:52">Tuesday 22 April 2025</span>. Using Julia version 1.10.9.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
